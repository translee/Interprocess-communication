# 消息队列(Message Queue)

> 消息队列实际是内核中的一个内部链表，发送进程将消息添加到队列末尾，接收进程从队列头读取消息。与命名管道较为类似，同样支持非亲缘进程、多进程通信，进程结束后仍可存在。此外，每条消息带有一个类型信息，这使得接收端可以根据类型按需接收，亦可被用来对消息优先级进行区分。

优点：

- 较为简单易用
- 具有命名管道的大部分优点
- 每条消息带有类型信息，读端可有选择的接收以及根据消息类别分别处理
- 自定义消息结构体，以消息为单位传输，优于管道的无格式字节流

缺点：

- 同管道、命名管道一样，每条数据长度也有上限
- 同管道、命名管道一样，收发信息避免不了在用户态和内核态进行拷贝，信息体量大时的传输效率不好
